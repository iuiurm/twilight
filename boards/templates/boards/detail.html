{% extends 'boards/base.html' %}

{% block body %}
    <h1>Detail</h1>
    {% if board.image %}
    <img src="{{ board.image.url }}" alt="{{ board.image.name }}">
    {% endif %}
    <h2>{{ board.title }}</h2>
    <p>{{ board.id }}번째 글</p>
    <p>{{ board.created_at }}</p>
    <hr />
    <p>{{ board.content }}</p>
    <hr />

    <form action="{% url 'boards:comment_create' board.id %}" method="post">
        {% csrf_token %}
        <input type="text" name="content" placeholder="댓글을 입력해주세요..." />
        <input type="submit" value="Submit" />
    </form>
    <hr />

    <p>
        <b>댓글목록</b>
    </p>
    {% for comment in comments %}
        <li>{{ comment.content }}</li>
        <form action="{% url 'boards:comment_delete' board.id comment.id %}" method="post">
            {% csrf_token %}
            <input type="submit" value="삭제" />
        </form>
    {% empty %}
        <p>아직 댓글이 없습니다 :(</p>
    {% endfor %}
    <hr />

    <a href="{% url 'boards:index' %}">BACK</a>
    <form action="{% url 'boards:delete' board.id %}" method="post">
        {% csrf_token %}
        <input class="btn btn-danger" type="submit" value="삭제하기"/>
    </form>
    <a href="{% url 'boards:edit' board.id %}">[수정하기]</a>
{% endblock %}
